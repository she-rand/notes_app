<div class="bg-white shadow rounded-lg p-6">
  <div class="flex justify-between items-start mb-6">
    <div>
      <h1 class="text-2xl font-bold"><%= @note.title %></h1>
      <p class="text-sm text-gray-500 mt-1">
        Created <%= time_ago_in_words(@note.created_at) %> ago
      </p>
    </div>
    <div class="flex space-x-2">
      <%= link_to "Edit", edit_note_path(@note), 
          class: "bg-blue-500 text-white px-4 py-2 rounded text-sm" %>
      <%= link_to "Delete", note_path(@note), 
          method: :delete, confirm: "Sure?", 
          class: "bg-red-500 text-white px-4 py-2 rounded text-sm" %>
    </div>
  </div>
  
  <div class="prose max-w-none" id="markdown-content">
    Loading content...
  </div>
</div>

<div class="mt-6">
  <%= link_to "← Back", notes_path, class: "text-blue-600" %>
</div>

<script type="module">
  import { marked } from "marked";
  const content = `<%= j @note.content %>`;
  document.getElementById('markdown-content').innerHTML = marked.parse(content);
</script>

<style>
  .prose h1 { font-size: 1.5rem; font-weight: bold; margin: 1rem 0; }
  .prose h2 { font-size: 1.25rem; font-weight: bold; margin: 0.75rem 0; }
  .prose p { margin: 0.5rem 0; }
  .prose ul { margin-left: 1.5rem; }
  .prose strong { font-weight: bold; }
  .prose em { font-style: italic; }
  .prose code { background: #f3f4f6; padding: 0.25rem; border-radius: 0.25rem; font-family: monospace; }
  .prose pre { background: #1f2937; color: white; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
</style>